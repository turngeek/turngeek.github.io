<!DOCTYPE html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ --> 
<!--[if lt IE 7 ]> <html lang="en-US" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en-US" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en-US" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en-US" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en-US" class="no-js"> <!--<![endif]-->
<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js">
      </script>
    <![endif]-->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta itemprop='author' content='Marcus Schiesser and Martin Schmollinger' id='author'>
<meta itemprop='copyrightHolder' content='dpunkt.verlag GmbH. Authorized translation of the German edition titled "Workshop Java EE 7. Ein praktischer Einstieg in die Java Enterprise Edition mit dem Web Profile", 2nd edition. ISBN 978-3-86490-195-9' id='copyrightHolder'>
<meta itemprop='copyrightYear' content='2015' id='copyrightYear'>
<meta itemprop='description' content='This Cloud Tutorial is the second of an upcoming series building a web application step by step with Java EE technology. It will see us improve the architecture and design of the sample application using CDI (Contexts and Dependency Injection).' id='description'>
<meta itemprop='image' content='/cdiinaday/wp-content/uploads/sites/7/2015/10/cdiinaday_cover.jpg' id='image'>
<meta itemprop='inLanguage' content='en' id='inLanguage'>
<link rel="shortcut icon" href="/cdiinaday/wp-content/plugins/pressbooks/themes-book/pressbooks-custom-css/favicon.ico" />
<title>5 Services and Alternatives | Cloud Tutorial &#8211; CDI in a Day</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="/cdiinaday/xmlrpc.php" />

		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/www.turngeek.press\/cdiinaday\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56806,55356,56826),0,0),c.toDataURL().length>3e3):("simple"===a?d.fillText(String.fromCharCode(55357,56835),0,0):d.fillText(String.fromCharCode(55356,57135),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='pressbooks-book-css'  href='/cdiinaday/wp-content/plugins/pressbooks/themes-book/pressbooks-book/style.css' type='text/css' media='screen, print' />
<link rel='stylesheet' id='pressbooks-custom-css-css'  href='/cdiinaday/wp-content/uploads/sites/7/custom-css/web.css?ver=4.4' type='text/css' media='screen' />
<script type='text/javascript' src='/cdiinaday/wp-includes/js/jquery/jquery.js?ver=1.11.3'></script>
<script type='text/javascript' src='/cdiinaday/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='/cdiinaday/wp-content/plugins/pressbooks/themes-book/pressbooks-book/js/script.js?ver=1.0'></script>
<script type='text/javascript' src='/cdiinaday/wp-content/plugins/pressbooks/themes-book/pressbooks-book/js/pop-out.js?ver=1.0'></script>
<link rel='https://api.w.org/' href='/cdiinaday/wp-json/' />
<link rel='prev' title='4 Application Wide Messages' href='/cdiinaday/chapter/4-application-wide-messages/' />
<link rel='next' title='6 What’s Left to Discover?' href='/cdiinaday/chapter/6-whats-left-to-discover/' />
<meta name="generator" content="WordPress 4.4" />
<link rel='shortlink' href='/cdiinaday/?p=25' />
<link rel="alternate" type="application/json+oembed" href="/cdiinaday/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.turngeek.press%2Fcdiinaday%2Fchapter%2F5-services-and-alternatives%2F" />
<link rel="alternate" type="text/xml+oembed" href="/cdiinaday/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.turngeek.press%2Fcdiinaday%2Fchapter%2F5-services-and-alternatives%2F&#038;format=xml" />
<style type="text/css">
/* <![CDATA[ */
img.latex { vertical-align: middle; border: none; background: none; }
/* ]]> */
</style>

</head>
<body class="single single-chapter postid-25" id="5servicesandalternatives">
	<!-- Faccebook share js sdk -->
	<div id="fb-root"></div>
	<script>(function(d, s, id) {
	  var js, fjs = d.getElementsByTagName(s)[0];
	  if (d.getElementById(id)) return;
	  js = d.createElement(s); js.id = id;
	  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
	  fjs.parentNode.insertBefore(js, fjs);
	}(document, "script", "facebook-jssdk"));</script>

<!-- a11y toolbar -->
<div class="a11y-toolbar">
	</div>
<!-- // a11y toolbar -->


	   	 
		<span itemscope itemtype="http://schema.org/WebPage" itemref="about copyrightHolder copyrightYear inLanguage publisher">		
		<div class="nav-container">
				<nav>
			
			 		<!-- Book Title -->
				    <h1 class="book-title"><a href="/cdiinaday/" title="Cloud Tutorial &#8211; CDI in a Day" rel="home">Cloud Tutorial &#8211; CDI in a Day</a></h1>
			    
			   
			    
					    <div class="sub-nav-left">
							<!-- Logo -->
							<h2 class="pressbooks-logo"><a href="/">TurnGeek Books</a></h2>
					    </div> <!-- end .sub-nav-left -->
			    
			    <div class="sub-nav-right">
			    
					    	
						
						<!-- --> 
				
				</div> <!-- end .sub-nav-right -->
			</nav>
			      
			  <div class="sub-nav">       
			     <!-- Author Name -->   
			    <div class="author-wrap"> 
			    									     	<h3>Marcus Schiesser and Martin Schmollinger</h3>
		     					     </div> <!-- end .author-name -->
		     
			  </div><!-- end sub-nav -->  
			    
				 
		</div> <!-- end .nav-container -->

	<div class="wrapper"><!-- for sitting footer at the bottom of the page -->	    
			<div id="wrap">	    
				<div id="content">

	 	
							<h2 class="entry-title">5 Services and Alternatives</h2>
					<div class="nav">
  	<span class="previous"><a href="/cdiinaday/chapter/4-application-wide-messages/">Previous</a></span>
  <!-- 	<h2 class="entry-title">5 Services and Alternatives</h2> -->
  	<span class="next"><a href="/cdiinaday/chapter/6-whats-left-to-discover/">Next</a></span>
    </div>				<div id="post-25" class="type-1 post-25 chapter type-chapter status-publish hentry">
					
					<div class="entry-content">
					  				    									
					<p>
<div style="width: 87px" class="wp-caption aligncenter"><a href="https://codenvy.com/f?id=q12qn14zf8hywll5" target="_blank"><img src="https://codenvy.com/factory/resources/factory-white.png" alt="Start Cloud IDE" width="77" height="21" /></a>
<p class="wp-caption-text">Start Cloud IDE (Start Services)</p>
</div>

<p>So far, we worked exclusively on the presentation layer. We now introduce a further layer of so-called <em>services</em> to implement the actual business logic. The use of services is a procedural approach whereby individual service calls modify the business objects (entities), while these business objects do not contain any business logic themselves.</p>
<p>The individual service methods are grouped in service classes according to their theme. We will see in the following section, for example, how a <code>CampaignService</code> is introduced to process <code>Campaign</code> objects.</p>
<p>Other aspects can be added to the service calls in later iterations. They can be used to persist entities, establish transaction control and safeguard the security of the application.</p>
<p>Using CDI, we will focus exclusively on the structure of the service classes. As in previous chapters, we won’t pursue the approach of adding new functionalities to the application, but of modifying our target architecture. As we do so, we will learn a couple more important features of CDI.</p>
<p>For those wishing to learn more about the service pattern, we recommend the lecture <a href="http://www.amazon.de/Real-World-Java-Patterns-Rethinking-Practices/dp/1300149310" target="_blank"><em>Real World Java EE Patterns – Rethinking Best Practices</em></a>.</p>
<h3>5.1 Adding the Mock Method to a Service Class</h3>
<p>Currently, we are using the method <code>createMockCampaigns</code> to create a list of sample campaigns in the bean <code>CampaignListProducer</code>. The method is invoked by the method <code>init</code>. We want to modify this such that the list of campaigns will be returned by a service call.</p>
<p>To do this, we will first create the interface <code>CampaignService</code> &#8211; from the package de.dpunkt.myaktion.services &#8211; which we will implement in the upcoming service class. The source code of the interface is shown in Listing 5-1.</p>
<pre class="lang:java decode:true" >
package press.turngeek.mycampaign.services;

import press.turngeek.mycampaign.model.Campaign;
import java.util.List;

public interface CampaignService {
    List&lt;Campaign&gt; getAllCampaigns();
}</pre>
<p><strong>Listing 5-1     </strong><em>CampaignService</em> interface</p>
<p>The interface of the service currently contains only one method, <code>getAllCampaigns</code>, whose purpose is to return the list of <code>Campaign</code> objects. It would technically be possible to implement the service directly, without an interface; however, since we want to use a mock implementation in addition to an implementation with real data, an interface is necessary.</p>
<p>To call the declared service, we must modify the <code>init</code> method of the <code>CampaignListProducer</code> bean as follows:</p>
<pre class="lang:java mark:1-2,6 decode:true" >@Inject
private CampaignService campaignService;

@PostConstruct
public void init() {
    campaigns = campaignService.getAllCampaigns();
}
</pre>
<p>The annotation <code>@Inject</code> to add another bean of the type <code>CampaignService</code> as well as using the method <code>init</code> to invoke its method <code>getAllCampaigns</code>, the purpose being to obtain the list of <code>Campaign</code> objects. Now, it should hopefully be clear why we converted the constructor into a method with the annotation <code>@PostConstruct</code> in <a href="/cdiinaday/chapter/3-contexts-and-dependency-injection/">section 3.3.1</a>; if we hadn’t done this, the <code>CampaignService</code> bean would not be available to us now.</p>
<p>If we start the application, we’ll see that there is still a small problem: since we have so far only defined the interface of the service, and have not yet implemented a service class, the container cannot find an implementation. When deployed, it therefore shows the error message: <code>WELD-001408 Unsatisfied dependencies for type [CampaignService]</code>.</p>
<p>In light of this, we now require an implementation of the <code>CampaignService</code>. This implementation will contain only the method <code>getAllCampaigns</code>, which we will take from the <code>createMockCampaigns</code> method of the <code>CampaignListProducer</code> bean. The complete implementation is shown in Listing 5-2; the class <code>MockCampaignServiceBean</code> must be stored in the package <code>press.turngeek.mycampaign.services</code>. After restarting the application, the dependency will be correctly resolved, which means that CDI, using the <code>MockCampaignServiceBean</code>, will find the correct implementation of the bean <code>CampaignService</code>.</p>
<pre class="lang:java decode:true" >package press.turngeek.mycampaign.services;

import press.turngeek.mycampaign.model.Account;
import press.turngeek.mycampaign.model.Campaign;
import press.turngeek.mycampaign.model.Donation;

import javax.enterprise.context.RequestScoped;
import javax.enterprise.inject.Alternative;
import java.util.LinkedList;
import java.util.List;

@RequestScoped
public class MockCampaignServiceBean implements CampaignService {
    public List&lt;Campaign&gt; getAllCampaigns() {
		Donation donation1 = new Donation();
		donation1.setDonorName("John Smith");
		donation1.setAmount(20d);
		donation1.setReceiptRequested(true);
		donation1.setStatus(Donation.Status.TRANSFERRED);
		donation1.setAccount(new Account(donation1.getDonorName(), 
			"XXX Bank","DE44876543210000123456"));
		Donation donation2 = new Donation();
		donation2.setDonorName("Peter Jones");
		donation2.setAmount(30d);
		donation2.setReceiptRequested(false);
		donation2.setStatus(Donation.Status.IN_PROCESS);
		donation2.setAccount(new Account(donation2.getDonorName(), 
			"YYY Bank","DE44864275310000654321"));
		List&lt;Donation&gt; spenden = new LinkedList&lt;&gt;();
		spenden.add(donation1);
		spenden.add(donation2);
		Campaign campaign1 = new Campaign();
		campaign1.setName("Shirts for the U19 Team");
		campaign1.setTargetAmount(1000d);
		campaign1.setAmountDonatedSoFar(258d);
		campaign1.setDonationMinimum(20d);
		campaign1.setId(1L);
		campaign1.setAccount(new Account("Robert Cook", "ABC Bank",
			"DE44123456780100200300"));
		campaign1.setDonations(spenden);
		Campaign campaign2 = new Campaign();
		campaign2.setName("Wheelchair for Maria");
		campaign2.setTargetAmount(2500d);
		campaign2.setAmountDonatedSoFar(742d);
		campaign2.setDonationMinimum(25d);
		campaign2.setId(2L);
		campaign2.setAccount(campaign1.getAccount());
		campaign2.setDonations(spenden);
		List&lt;Campaign&gt; ret = new LinkedList&lt;&gt;();
		ret.add(campaign1);
		ret.add(campaign2);
		return ret;
	}
}</pre>
<p><strong>Listing 5-2     </strong><em>MockCampaignServiceBean</em> class</p>
<h3>5.2 Select the Service Implementation to Use with Qualifiers</h3>
<p>Our sample campaigns from the mock implementation <code>MockCampaignServiceBean</code> are all well and good, but they do not fulfil the requirements of the application. For this reason, we will now write the <code>CampaignServiceBean</code> &#8211; another implementation of the interface <code>CampaignService</code>. Like the previous implementation, it will be stored in the package <code>press.turngeek.mycampaign.services</code> and can be found in Listing 5-3.</p>
<pre class="lang:java decode:true" >package press.turngeek.mycampaign.services;

import press.turngeek.mycampaign.model.Campaign;

import javax.enterprise.context.RequestScoped;
import java.util.LinkedList;
import java.util.List;

@RequestScoped
public class CampaignServiceBean implements CampaignService {

  @Override
  public List&lt;Campaign&gt; getAllCampaigns() {
     return new LinkedList&lt;Campaign&gt;();
  }

}</pre>
<p><strong>Listing 5-3     </strong><em>CampaignServiceBean</em> class</p>
<p>This implementation returns only an empty list of <code>Campaign</code> objects. In later iterations we might add a delegation to a persistence layer here to retrieve the actual list of campaigns from the database. But for the time being, for explaining CDI, an empty list is totally sufficient.</p>
<p>If we start the application again, a fresh error message will appear: <code>WELD-001409 Ambiguous dependencies for type [CampaignService]</code>.</p>
<p>In contrast to the previous section, we now have the problem that CDI finds multiple implementations of the <code>CampaignService</code> bean and cannot decide for itself which one is to be used.</p>
<p>As we did with the ambiguities in our messages (see <a href="/cdiinaday/chapter/4-application-wide-messages/">section 4.2</a>), we can resolve this problem using a <em>qualifier</em>. This solution is not required for our application, since we will tackle the issue using an alternative approach. However, if we wish to see how the qualifier solution works, we can test it out by creating the class <code>TestQualifier</code> with the qualifier <code>@MyService</code> from Listing 5-4 and saving it in the package <code>press.turngeek.mycampaign.util</code>.</p>
<pre class="lang:java decode:true" >
package press.turngeek.mycampaign.util;

import static java.lang.annotation.ElementType.FIELD;
import static java.lang.annotation.ElementType.TYPE;
import static java.lang.annotation.RetentionPolicy.RUNTIME;
import java.lang.annotation.Retention;
import java.lang.annotation.Target;
import javax.inject.Qualifier;

public class TestQualifier {

    @Qualifier
    @Target({ FIELD, TYPE })
    @Retention(RUNTIME)
    public @interface MyService {
    }
}
</pre>
<p><strong>Listing 5-4     </strong><em>TestQualifier</em> class</p>
<p>On one end, the qualifier <code>@MyService</code> must be added to the attribute <code>campaignService</code> within the bean <code>CampaignListProducer</code>:</p>
<pre class="lang:java decode:true mark:2" >
@Inject
@MyService
private CampaignService campaignService;</pre>
<p>&#8230;and, on the other end, to the implementation of <code>CampaignService</code> that is to be used:</p>
<pre class="lang:java decode:true mark:2" >
@RequestScoped
@MyService
public class CampaignServiceBean implements CampaignService {</pre>
<p>If we start the application once more, we will see that the ambiguities have now been resolved and that the application uses the implementation <code>CampaignServiceBean</code> for the <code>CampaignService</code>. The class diagram in Fig. 5-1 illustrates the classes involved.</p>
<p><a target="_blank" href="/images/cdiinaday/chapter5/5-1.png"><img src="/images/cdiinaday/chapter5/5-1.png" alt="Relationships of the classes involved in the unambiguous injection of a bean" width="100%" /></a><br />
<strong>Fig. 5-1     </strong>Relationships of the classes involved in the unambiguous injection of a bean</p>
<p>We have now shown how ambiguities at the injection point can be resolved with the help of a qualifier. However, as mentioned above, we will not be using this approach for our application, and so the annotations and the class <code>TestQualifier</code> added in the last step should now be removed.</p>
<p>Instead of resolving the ambiguities with qualifiers, we can choose to use the annotation <code>@Alternative</code> from the package <code>javax.enterprise.inject</code>.</p>
<p>To follow this approach, we need simply to add this annotation to the bean <code>MockCampaignServiceBean</code>:</p>
<pre class="lang:java decode:true mark:2" >
@RequestScoped
@Alternative
public class MockCampaignServiceBean implements CampaignService {</pre>
<p>This annotation designates the bean as an alternative, non-default implementation. Instead of using this, the container will use the remaining implementation, <code>CampaignServiceBean</code>. Therefore we once again have a definitive resolution.</p>
<p>If we want to invoke an alternative implementation, we need to specify this explicitly in the CDI configuration file. We haven’t needed to do this so far, since we have relied solely on the standard configuration of CDI.</p>
<p>We will change this now for the sake of testing the invocation of an alternative implementation. Specifically, we will save the sample configuration from Listing 5-5 in the file <code>WEB-INFbeans.xml</code>. After the application has been restarted, the mock implementation will be used. This shows how simple it is to use different service implementations, regardless of the deployment scenario.</p>
<p>Since the implementation <code>CampaignServiceBean</code> is required for the upcoming iterations, we now need to delete the file <code>WEB-INFbeans.xml</code>, causing CDI to revert back to the standard configuration.</p>
<div class="textbox shaded">
<strong>CDI and beans.xml</strong></p>
<p>In CDI 1.0 (part of Java EE 6), the mere existence of the configuration file <code>beans.xml</code> &#8211; even when empty &#8211; was the switch to enable CDI for all classes of the application. Up until now, however, <code>beans.xml</code> has not existed in our project – and CDI has functioned anyway!</p>
<p>Since CDI Version 1.1 (part of Java EE 7), it has been possible, using <code>beans.xml</code>, to influence which classes of the application are recognized as CDI beans (attribute <code>bean-discovery-mode</code>). If an application does not possess a <code>beans.xml</code> file, CDI behaves as though the attribute <code>bean-discovery-mode</code> has been assigned the value <code>annotated</code>. In this case, the only classes recognized as CDI beans are those that have been explicitly assigned a <em>scope annotation</em>. If we assign the attribute the value <code>all</code>, we achieve the same behavior as in CDI 1.0. Further details on possible settings can be found in the <a href="http://docs.jboss.org/cdi/spec/1.2/cdi-spec.html" target="_blank">CDI specification</a>.
</div>
<pre class="lang:xhtml decode:true" >
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans
  xmlns="http://xmlns.jcp.org/xml/ns/javaee"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee
  http://xmlns.jcp.org/xml/ns/javaee/beans_1_1.xsd"
  bean-discovery-mode="annotated"&gt;
  &lt;alternatives&gt;
    &lt;class&gt;press.turngeek.mycampaign.services.MockCampaignServiceBean&lt;/class&gt;
  &lt;/alternatives&gt;
&lt;/beans&gt;
</pre>
<p><strong>Listing 5-5     </strong>XML file <em>beans.xml</em></p>
<p>In this section, we have explored two methods for resolving ambiguities: <em>qualifiers</em> and <em>alternatives</em>. The two are used in different cases:</p>
<p><em>Qualifiers</em> are used when multiple implementations of the same type are used during the runtime of the application. During the development stage, the programmer uses qualifiers to determine definitively which implementation should be used.</p>
<p><em>Alternatives</em> are different in that implementations are defined per deployment. This has the result that only one implementation exists at runtime.</p>
<p>We have now completed the development part of our CDI tutorial! We recommend you compare your results with the snapshot of the project in our Cloud IDE:</p>
<p>
<div style="width: 87px" class="wp-caption aligncenter"><a href="https://codenvy.com/f?id=5ve50ooxjpfonqdy" target="_blank"><img src="https://codenvy.com/factory/resources/factory-white.png" alt="Start Cloud IDE" width="77" height="21" /></a>
<p class="wp-caption-text">Start Cloud IDE (End Services)</p>
</div>

<h3>Discussion</h3>
<p>Use the message board below to give the authors your feedback or to discuss this page&#8217;s topic with other readers (in English please!). Please don&#8217;t expect the authors to answer directly, but they might update the content of this site according to your feedback.<br />
<script src="/js/disqus.js" type="text/javascript"></script></p>

					</div><!-- .entry-content -->
				</div><!-- #post-## -->

			
				</div><!-- #content -->
			
				<!-- Share buttons -->
	<div class="share-wrap-single">
		<ul class="share share-single">
						<li class="email"><a href="mailto:?subject=I%20wanted%20to%20share%20this%20post%20with%20you%20from%20Cloud%20Tutorial%20-%20CDI%20in%20a%20Day&amp;body=5%20Services%20and%20Alternatives%20-%20http%3A%2F%2Fwww.turngeek.press%2Fcdiinaday%2Fchapter%2F5-services-and-alternatives%2F" title="Email to a friend" target="_blank">Share via Email</a>
			</li>
			<li class="twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-width="97px">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script></li>
			<li class="facebook"><div class="fb-like" data-send="false" data-layout="button_count" data-width="60" data-show-faces="false"></div></li>
									
		</ul>
	</div><!-- end .share-wrap-single --> 
			
				
		
	<div id="sidebar">

		<ul id="booknav">
		<!-- If Logged in show ADMIN -->
								
				<li class="home-btn"><a href="/cdiinaday">Home</a></li>

		<!-- TOC button always there -->
				<li class="toc-btn"><a href="/cdiinaday/table-of-contents">Table of Contents</a></li>
			</ul>

		<!-- Pop out TOC only on READ pages -->
						<div id="toc">
			<a href="#" class="close">Close</a>
			<ul>
				<li><h4><!-- Front-matter --></h4></li>
				<li>
					<ul>
																		<li class="front-matter introduction"><a href="/cdiinaday/front-matter/introduction/">Introduction</a>
              						</li>
											</ul>
				</li>
								<li><h4>								Chapters								</h4></li>
				<li>
					<ul>
																				<li class="chapter type-1"><a href="/cdiinaday/chapter/1-why-cdi/">1 Why CDI?</a>
                							</li>
																				<li class="chapter type-1"><a href="/cdiinaday/chapter/2-getting-started/">2 Getting Started</a>
                							</li>
																				<li class="chapter type-1"><a href="/cdiinaday/chapter/3-contexts-and-dependency-injection/">3 Contexts and Dependency Injection</a>
                							</li>
																				<li class="chapter type-1"><a href="/cdiinaday/chapter/4-application-wide-messages/">4 Application Wide Messages</a>
                							</li>
																				<li class="chapter type-1"><a href="/cdiinaday/chapter/5-services-and-alternatives/">5 Services and Alternatives</a>
                							</li>
																				<li class="chapter type-1"><a href="/cdiinaday/chapter/6-whats-left-to-discover/">6 What’s Left to Discover?</a>
                							</li>
																				<li class="chapter type-1"><a href="/cdiinaday/chapter/7-exercises/">7  Exercises</a>
                							</li>
											</ul>
				</li>
								<li><h4><!-- Back-matter --></h4></li>
				<li>
					<ul>
											</ul>
				</li>
			</ul>
		</div><!-- end #toc -->
		

	</div><!-- end #sidebar -->
	
	</div><!-- #wrap -->
	<div class="push"></div>
	
	</div><!-- .wrapper for sitting footer at the bottom of the page -->


<div class="footer">
	<div class="inner">
								
			
						<p class="cie-name"><a href="http://pressbooks.com">Pressbooks.com: Simple Book Production</a></p>
	</div><!-- #inner -->
</div><!-- #footer -->
</span><!-- schema.org -->
<script type='text/javascript' src='/cdiinaday/wp-content/plugins/pressbooks/themes-book/pressbooks-book/js/keyboard-nav.js?ver=20130306'></script>
<script type='text/javascript' src='/cdiinaday/wp-includes/js/wp-embed.min.js?ver=4.4'></script>
</body>
</html>
