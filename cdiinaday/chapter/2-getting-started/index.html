<!DOCTYPE html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ --> 
<!--[if lt IE 7 ]> <html lang="en-US" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en-US" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en-US" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en-US" class="no-js ie9"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--><html lang="en-US" class="no-js"> <!--<![endif]-->
<!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js">
      </script>
    <![endif]-->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta itemprop='author' content='Marcus Schiesser and Martin Schmollinger' id='author'>
<meta itemprop='copyrightHolder' content='dpunkt.verlag GmbH. Authorized translation of the German edition titled "Workshop Java EE 7. Ein praktischer Einstieg in die Java Enterprise Edition mit dem Web Profile", 2nd edition. ISBN 978-3-86490-195-9' id='copyrightHolder'>
<meta itemprop='copyrightYear' content='2015' id='copyrightYear'>
<meta itemprop='description' content='This Cloud Tutorial is the second of an upcoming series building a web application step by step with Java EE technology. It will see us improve the architecture and design of the sample application using CDI (Contexts and Dependency Injection).' id='description'>
<meta itemprop='image' content='/cdiinaday/wp-content/uploads/sites/7/2015/10/cdiinaday_cover.jpg' id='image'>
<meta itemprop='inLanguage' content='en' id='inLanguage'>
<link rel="shortcut icon" href="/cdiinaday/wp-content/plugins/pressbooks/themes-book/pressbooks-custom-css/favicon.ico" />
<title>2 Getting Started | Cloud Tutorial &#8211; CDI in a Day</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="/cdiinaday/xmlrpc.php" />

		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/www.turngeek.press\/cdiinaday\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.4"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56806,55356,56826),0,0),c.toDataURL().length>3e3):("simple"===a?d.fillText(String.fromCharCode(55357,56835),0,0):d.fillText(String.fromCharCode(55356,57135),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag"),unicode8:d("unicode8")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag&&c.supports.unicode8||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='pressbooks-book-css'  href='/cdiinaday/wp-content/plugins/pressbooks/themes-book/pressbooks-book/style.css' type='text/css' media='screen, print' />
<link rel='stylesheet' id='pressbooks-custom-css-css'  href='/cdiinaday/wp-content/uploads/sites/7/custom-css/web.css?ver=4.4' type='text/css' media='screen' />
<script type='text/javascript' src='/cdiinaday/wp-includes/js/jquery/jquery.js?ver=1.11.3'></script>
<script type='text/javascript' src='/cdiinaday/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript' src='/cdiinaday/wp-content/plugins/pressbooks/themes-book/pressbooks-book/js/script.js?ver=1.0'></script>
<script type='text/javascript' src='/cdiinaday/wp-content/plugins/pressbooks/themes-book/pressbooks-book/js/pop-out.js?ver=1.0'></script>
<link rel='https://api.w.org/' href='/cdiinaday/wp-json/' />
<link rel='prev' title='1 Why CDI?' href='/cdiinaday/chapter/1-why-cdi/' />
<link rel='next' title='3 Contexts and Dependency Injection' href='/cdiinaday/chapter/3-contexts-and-dependency-injection/' />
<meta name="generator" content="WordPress 4.4" />
<link rel='shortlink' href='/cdiinaday/?p=19' />
<link rel="alternate" type="application/json+oembed" href="/cdiinaday/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.turngeek.press%2Fcdiinaday%2Fchapter%2F2-getting-started%2F" />
<link rel="alternate" type="text/xml+oembed" href="/cdiinaday/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fwww.turngeek.press%2Fcdiinaday%2Fchapter%2F2-getting-started%2F&#038;format=xml" />
<style type="text/css">
/* <![CDATA[ */
img.latex { vertical-align: middle; border: none; background: none; }
/* ]]> */
</style>

</head>
<body class="single single-chapter postid-19" id="2gettingstarted">
	<!-- Faccebook share js sdk -->
	<div id="fb-root"></div>
	<script>(function(d, s, id) {
	  var js, fjs = d.getElementsByTagName(s)[0];
	  if (d.getElementById(id)) return;
	  js = d.createElement(s); js.id = id;
	  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
	  fjs.parentNode.insertBefore(js, fjs);
	}(document, "script", "facebook-jssdk"));</script>

<!-- a11y toolbar -->
<div class="a11y-toolbar">
	</div>
<!-- // a11y toolbar -->


	   	 
		<span itemscope itemtype="http://schema.org/WebPage" itemref="about copyrightHolder copyrightYear inLanguage publisher">		
		<div class="nav-container">
				<nav>
			
			 		<!-- Book Title -->
				    <h1 class="book-title"><a href="/cdiinaday/" title="Cloud Tutorial &#8211; CDI in a Day" rel="home">Cloud Tutorial &#8211; CDI in a Day</a></h1>
			    
			   
			    
					    <div class="sub-nav-left">
							<!-- Logo -->
							<h2 class="pressbooks-logo"><a href="/">TurnGeek Books</a></h2>
					    </div> <!-- end .sub-nav-left -->
			    
			    <div class="sub-nav-right">
			    
					    	
						
						<!-- --> 
				
				</div> <!-- end .sub-nav-right -->
			</nav>
			      
			  <div class="sub-nav">       
			     <!-- Author Name -->   
			    <div class="author-wrap"> 
			    									     	<h3>Marcus Schiesser and Martin Schmollinger</h3>
		     					     </div> <!-- end .author-name -->
		     
			  </div><!-- end sub-nav -->  
			    
				 
		</div> <!-- end .nav-container -->

	<div class="wrapper"><!-- for sitting footer at the bottom of the page -->	    
			<div id="wrap">	    
				<div id="content">

	 	
							<h2 class="entry-title">2 Getting Started</h2>
					<div class="nav">
  	<span class="previous"><a href="/cdiinaday/chapter/1-why-cdi/">Previous</a></span>
  <!-- 	<h2 class="entry-title">2 Getting Started</h2> -->
  	<span class="next"><a href="/cdiinaday/chapter/3-contexts-and-dependency-injection/">Next</a></span>
    </div>				<div id="post-19" class="type-1 post-19 chapter type-chapter status-publish hentry">
					
					<div class="entry-content">
					  				    									
					<p>We promised to protect you from cumbersome configuration and installation work. Therefore, you can find below a link which starts the cloud IDE Codenvy for you<a class="footnote" title="As you might have guessed, all the changes you are doing in the cloud IDE are volatile and will be lost after closing the browser. If you want, you can sign up to Codenvy which allows you to persist the project in your own dedicated workspace. If you don't want to sign up, don't worry: throughout the book we provide links that allow you to start an IDE in the needed state." id="return-footnote-19-1" href="#footnote-19-1"><sup class="footnote">[1]</sup></a>. The IDE already contains a project with the sample application that we want to use in our tutorial.</p>
<p>
<div style="width: 87px" class="wp-caption aligncenter"><a href="https://codenvy.com/f?id=m8s5w8vmdutlw0ht" target="_blank"><img src="https://codenvy.com/factory/resources/factory-white.png" alt="Start Cloud IDE" width="77" height="21" /></a>
<p class="wp-caption-text">Start Cloud IDE</p>
</div>

<h3>2.1 Running the Application</h3>
<p>To start the application server<a class="footnote" title="we configured the project in the way that WildFly 8.2.0 is used as our application server. In general, it is possible to configure arbitrary execution environments in Codenvy since Docker is used internally. We decided to use WildFly because of its high practical relevance." id="return-footnote-19-2" href="#footnote-19-2"><sup class="footnote">[2]</sup></a>, we&#8217;ll click on the &#8216;<em>Run</em>&#8216; submenu you’ll find under the main menu ‘<em>Run</em>’. In the console log in the bottom part of the screen you will see the log entries of the server. After starting up our server the cloud IDE will deploy our application, which consists of an empty <a href="http://docs.oracle.com/javaee/6/tutorial/doc/bnaby.html" target="_blank">WAR file</a><a class="footnote" title="We're linking here to the old Java EE 6 tutorial as we think the explanation for WAR files is better there than in the newer Java EE 7 tutorial" id="return-footnote-19-3" href="#footnote-19-3"><sup class="footnote">[3]</sup></a> (short for web archive) for the time being.</p>
<p>After the deployment in the console log, you will find a blue colored link labeled with “<em>Application:</em>” as shown in Figure 2-1. Press this link to start the deployed application<a class="footnote" title="Be careful, sometimes the link appears before the application is deployed to the server." id="return-footnote-19-4" href="#footnote-19-4"><sup class="footnote">[4]</sup></a>. Please memorize this procedure as you&#8217;ll repeat it a lot of times throughout this book.</p>
<p><a href="/images/javaeeinaday/chapter2/2-1.png" target="_blank"><img src="/images/javaeeinaday/chapter2/2-1.png" alt="Screen shot of the application starting link" width="100%" /></a><br />
<strong>Fig. 2-1 </strong>     Screenshot of the application starting link.</p>
<p>After clicking on the link the browser should display the screen shown in Figure 2-2. Congratulations, you managed to start the sample application. Take so time to click through the application before continuing with the <em>real development</em>.</p>
<p><a href="/images/jsfinaday/chapter10/10-4.png" target="_blank"><img src="/images/jsfinaday/chapter10/10-4.png" alt="List of campaigns - Start screen of the sample application" width="100%" /></a><br />
<strong>Fig. 2-2</strong>     List of campaigns &#8211; Start screen of the sample application.</p>
<h3>2.2 Structure of the Sample Application</h3>
<p>Before we continue changing the sample application, we want to to understand firstly a few things about the existing project state.</p>
<p>If you browse the project with the project explorer you can see a lean directory structure (see Tab. 2-1).</p>
<table>
<tbody>
<tr>
<td><strong>Directory</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr>
<td>src\main\java</td>
<td>Contains the package structure and the corresponding Java classes.</td>
</tr>
<tr>
<td>src\main\webapp</td>
<td>Contains all views and stylesheets concerning the web layer of the application.</td>
</tr>
<tr>
<td>src\main\webapp\WEB-INF</td>
<td>Contains configuration files.</td>
</tr>
<tr>
<td>src\main\resources</td>
<td>Contains the language dependent message bundles.</td>
</tr>
</tbody>
</table>
<p><strong>Tab. 2-1</strong> Directory structure of the initial Maven project.</p>
<p>This is the standard structure of the build manager <a href="http://maven.apache.org/" target="_blank">Maven</a><a class="footnote" title="Maven is a technology that supports the creation and deployment of Java EE applications on various application servers and allows them to be integrated in virtually any IDE. Maven is a general configuration management tool for all Java-based projects and for Java EE projects in particular." id="return-footnote-19-5" href="#footnote-19-5"><sup class="footnote">[5]</sup></a> that we are using for our project.  </p>
<p>To simplify the start for you, the project already contains a sample application written in <a href="/jsfinaday/" target="_blank">JavaServer Faces</a> (JSF). If you haven&#8217;t done so, please read the <a href="/javaee7inaweek/part/3-requirements-of-the-sample-application-my-campaign/" target="_blank">requirements of the sample application</a> before you continue to get a better understanding. Also, if you haven&#8217;t heard anything about JSF yet, we recommend to read the <a href="/javaeeinaday/chapter/5-click-me-if-you-can-javaserver-faces/" target="_blank">JSF chapter</a> of our book <a href="/javaeeinaday/" target="_blank">Java EE in a Day</a> &#8211; trust us, it&#8217;s worth it.</p>
<p>In this tutorial we will modify and add the Java classes of this project. Therefore before we start, we want to get a closer look at the files under the <code>src\main\java</code> folder.</p>
<p>There you find the main application package <code>press.turngeek.mycampaign</code> with the three sub packages <code>controller</code>, <code>data</code> and <code>model</code>. <em>Controller</em> and <em>Model</em> are concepts from the MVC (<a href="https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller" target="_blank">Model-View-Controller</a>) pattern that you are probably familiar with. </p>
<p>Let&#8217;s have a look at the <code>model</code> package first. It contains the classes <code>Account</code>, <code>Campaign</code> and <code>Donation</code>. These are simple <a href="https://en.wikipedia.org/wiki/Plain_Old_Java_Object" target="_blank">POJO classes</a> according to the <a href="/javaee7inaweek/chapter/ii-3-domain-classes/" target="_blank">specification of the domain model</a>.</p>
<p>As the name suggests, the <code>controller</code> package is containing the <em>Controller</em> classes. Their purpose is to receive events from the web views and to update the model data if a state change is necessary. Views are not directly modifying the model &#8211; this is always done via controllers. Generally speaking, for each <a href="/javaee7inaweek/chapter/ii-2-overview-of-use-cases/" target="_blank">use case</a> their exists one controller class.</p>
<p>Lastly, the <code>data</code> package contains the classes <code>CampaignProducer</code> and <code>CampaignListProducer</code>. Their purpose is to provide us with concrete instances of the model classes. The <code>CampaignProducer</code> provides us the campaign that was selected by the user, whereas the <code>CampaignListProducer</code> provides us with the list of all available campaigns for the user.</p>
<h3>2.3 Criticising the structure</h3>
<p>Our application does contain some good examples of unwanted  couplings,  one  of  these  being  that  the <code>EditCampaignController</code> in  the <code>doSave</code>  method  directly  accesses  the  list  of <code>Campaign</code> objects belonging  to  the <code>CampaignListProducer</code>. </p>
<p>Here, it would be preferable to introduce a loose coupling between the two components.  In  this  particular  case,  the <code>doSave</code>  method  could  send  a  message  to  the <code>CampaignListProducer</code> that a <code>Campaign</code> object should be added. The <code>CampaignListProducer</code> could then decide how to respond to this message for itself. If another, yet-to-be-developed  component  wishes  to  respond  to  this  message  at  a  later  date,  it  can  do  so without any modification of the existing sending components. </p>
<p>This safeguards the future extensibility and maintainability of the application. In  practice,  large  applications  contain  hundreds  such  examples that could  be  more  easily  and  elegantly  solved  with  CDI.  In the following chapters we will work through to improve the structure of the application. If you think these are minor things, keep in mind that real applications consists of hundreds of use cases &#8211; imagine that  our  application is one of these.</p>
<h3>Discussion</h3>
<p>Use the message board below to give the authors your feedback or to discuss this page&#8217;s topic with other readers (in English please!). Please don&#8217;t expect the authors to answer directly, but they might update the content of this site according to your feedback.<br />
<script src="/js/disqus.js" type="text/javascript"></script></p>
<hr /><div class="footnotes"><ol><li id="footnote-19-1">As you might have guessed, all the changes you are doing in the cloud IDE are volatile and will be lost after closing the browser. If you want, you can <a href="https://codenvy.com/site/create-account" target="_blank">sign up to Codenvy</a> which allows you to persist the project in your own dedicated workspace. If you don't want to sign up, don't worry: throughout the book we provide links that allow you to start an IDE in the needed state. <a href="#return-footnote-19-1" class="return-footnote">&crarr;</a></li><li id="footnote-19-2">we configured the project in the way that <a href="http://wildfly.org/" target="_blank">WildFly 8.2.0</a> is used as our application server. In general, it is possible to configure arbitrary execution environments in Codenvy since <a href="https://www.docker.com/" target="_blank">Docker</a> is used internally. We decided to use WildFly because of its high practical relevance. <a href="#return-footnote-19-2" class="return-footnote">&crarr;</a></li><li id="footnote-19-3">We're linking here to the old Java EE 6 tutorial as we think the explanation for WAR files is better there than in the newer Java EE 7 tutorial <a href="#return-footnote-19-3" class="return-footnote">&crarr;</a></li><li id="footnote-19-4">Be careful, sometimes the link appears before the application is deployed to the server. <a href="#return-footnote-19-4" class="return-footnote">&crarr;</a></li><li id="footnote-19-5">Maven is a technology that supports the creation and deployment of Java EE applications on various application servers and allows them to be integrated in virtually any IDE. Maven is a general configuration management tool for all Java-based projects and for Java EE projects in particular. <a href="#return-footnote-19-5" class="return-footnote">&crarr;</a></li></ol></div>
					</div><!-- .entry-content -->
				</div><!-- #post-## -->

			
				</div><!-- #content -->
			
				<!-- Share buttons -->
	<div class="share-wrap-single">
		<ul class="share share-single">
						<li class="email"><a href="mailto:?subject=I%20wanted%20to%20share%20this%20post%20with%20you%20from%20Cloud%20Tutorial%20-%20CDI%20in%20a%20Day&amp;body=2%20Getting%20Started%20-%20http%3A%2F%2Fwww.turngeek.press%2Fcdiinaday%2Fchapter%2F2-getting-started%2F" title="Email to a friend" target="_blank">Share via Email</a>
			</li>
			<li class="twitter"><a href="https://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-width="97px">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script></li>
			<li class="facebook"><div class="fb-like" data-send="false" data-layout="button_count" data-width="60" data-show-faces="false"></div></li>
									
		</ul>
	</div><!-- end .share-wrap-single --> 
			
				
		
	<div id="sidebar">

		<ul id="booknav">
		<!-- If Logged in show ADMIN -->
								
				<li class="home-btn"><a href="/cdiinaday">Home</a></li>

		<!-- TOC button always there -->
				<li class="toc-btn"><a href="/cdiinaday/table-of-contents">Table of Contents</a></li>
			</ul>

		<!-- Pop out TOC only on READ pages -->
						<div id="toc">
			<a href="#" class="close">Close</a>
			<ul>
				<li><h4><!-- Front-matter --></h4></li>
				<li>
					<ul>
																		<li class="front-matter introduction"><a href="/cdiinaday/front-matter/introduction/">Introduction</a>
              						</li>
											</ul>
				</li>
								<li><h4>								Chapters								</h4></li>
				<li>
					<ul>
																				<li class="chapter type-1"><a href="/cdiinaday/chapter/1-why-cdi/">1 Why CDI?</a>
                							</li>
																				<li class="chapter type-1"><a href="/cdiinaday/chapter/2-getting-started/">2 Getting Started</a>
                							</li>
																				<li class="chapter type-1"><a href="/cdiinaday/chapter/3-contexts-and-dependency-injection/">3 Contexts and Dependency Injection</a>
                							</li>
																				<li class="chapter type-1"><a href="/cdiinaday/chapter/4-application-wide-messages/">4 Application Wide Messages</a>
                							</li>
																				<li class="chapter type-1"><a href="/cdiinaday/chapter/5-services-and-alternatives/">5 Services and Alternatives</a>
                							</li>
																				<li class="chapter type-1"><a href="/cdiinaday/chapter/6-whats-left-to-discover/">6 What’s Left to Discover?</a>
                							</li>
																				<li class="chapter type-1"><a href="/cdiinaday/chapter/7-exercises/">7  Exercises</a>
                							</li>
											</ul>
				</li>
								<li><h4><!-- Back-matter --></h4></li>
				<li>
					<ul>
											</ul>
				</li>
			</ul>
		</div><!-- end #toc -->
		

	</div><!-- end #sidebar -->
	
	</div><!-- #wrap -->
	<div class="push"></div>
	
	</div><!-- .wrapper for sitting footer at the bottom of the page -->


<div class="footer">
	<div class="inner">
								
			
						<p class="cie-name"><a href="http://pressbooks.com">Pressbooks.com: Simple Book Production</a></p>
	</div><!-- #inner -->
</div><!-- #footer -->
</span><!-- schema.org -->
<script type='text/javascript' src='/cdiinaday/wp-content/plugins/pressbooks/themes-book/pressbooks-book/js/keyboard-nav.js?ver=20130306'></script>
<script type='text/javascript' src='/cdiinaday/wp-includes/js/wp-embed.min.js?ver=4.4'></script>
</body>
</html>
